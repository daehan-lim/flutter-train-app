# 철도 좌석 예약 애플리케이션

## **📌 프로젝트 설명**

이 프로젝트는 철도 좌석 예약 서비스를 더욱 편리하게 이용할 수 있도록 만든 Flutter 기반의 모바일 애플리케이션 MVP입니다. 사용자는 앱을 통해 출발역과 도착역을 선택하고, 시각적으로 기차 좌석을 확인하여 예약할 수 있습니다. 또한 앱 내에서 코레일 공식 예약 웹사이트에 직접 접속하여 실제로 좌석을 결제하고 예약할 수 있습니다. 한국어와 영어를 지원하며, 사용자 선호에 따라 라이트 모드와 다크 모드를 제공합니다.

## 📋 목차

- [📸 스크린샷](#스크린샷)
- [🎯 주요 기능](#주요-기능)
- [📥 설치 방법](#설치-방법)
- [📚 필요한 패키지](#필요한-패키지)
- [🚆 애플리케이션 사용법](#애플리케이션-사용법)
- [🛠️ 프로젝트 구조](#프로젝트-구조)
- [📊 테스트 및 CI/CD](#테스트-및-cicd)
- [💡 기술적 특징](#기술적-특징)
- [📄 라이센스](#라이센스)

## 📸 스크린샷

<div style="display: flex; overflow-x: auto; border: 2px solid #ccc; padding: 6px; border-radius: 8px;"> <img src="images/login.png" width="240" style="margin-right: 5px;" /> <img src="images/signup.png" width="240" style="margin-right: 5px;" /> <img src="images/dashboard.png" width="240" style="margin-right: 5px;" /> <img src="images/ticket_details.png" width="240" style="margin-right: 5px;" /> <img src="images/edit.png" width="240" style="margin-right: 5px;" /> <img src="images/calendar.png" width="240" style="margin-right: 5px;" /> <img src="images/calendar_sync.png" width="240" style="margin-right: 5px;" /> <img src="images/maps.png" width="240" /> </div>

## 🎯 주요 기능

KoRail 앱은 다음과 같은 기능을 제공합니다:

- **출발 및 도착역 선택**: 사용자가 출발역과 도착역을 쉽게 선택할 수 있는 인터페이스
- **좌석 선택**: 기차 좌석 배치도에서 좌석을 시각적으로 선택할 수 있는 기능
- **이미 선택된 좌석 해제**: 이미 선택한 좌석을 다시 탭하면 선택이 해제되는 기능
- **다국어 지원**: intl과 flutter_localizations 패키지를 활용한 한국어와 영어 다국어 지원
- **테마 설정**: 라이트 모드와 다크 모드 간 전환 가능
- **iOS 스타일 설정 페이지**: settings_ui 패키지를 활용한 iOS 스타일의 설정 인터페이스
- **코레일 웹사이트 통합**: 앱 내 WebView로 코레일 예약 시스템 이용 및 외부 브라우저로 열기 옵션 제공

## 📥 설치 방법

1. 이 저장소를 클론합니다:

```
git clone https://github.com/daehan-lim/flutter-train-app.git  
```

2. 프로젝트 디렉토리로 이동합니다:

```
cd flutter_train_app  
```

3. 필요한 [패키지를](#필요한 패키지) 설치하면서 코드 생성도 같이 실행합니다(다국어 지원을 위한 필수 단계):

```
flutter pub get  
```

4. 애플리케이션을 실행합니다:

```
flutter run  
```

## 📚 필요한 패키지

이 프로젝트는 다음과 같은 주요 의존성 패키지를 사용합니다:

- **flutter_localizations**: 앱의 다국어 지원을 위한 Flutter 공식 패키지
- **intl**: 국제화 및 지역화를 위한 유틸리티 제공
- **settings_ui**: 설정 페이지 구현을 위한 패키지
- **url_launcher**: 외부 URL 및 이메일 클라이언트 실행을 위한 패키지
- **webview_flutter**: 앱 내에서 웹 콘텐츠를 표시하기 위한 WebView 구현


## 🚆 애플리케이션 사용법

### 출발 및 도착역 선택

1. 홈 화면에서 '출발역' 또는 '도착역' 버튼을 탭합니다.
2. 역 목록에서 원하는 역을 선택합니다.
3. 두 역이 모두 선택되면 좌석 선택 페이지로 이동할 수 있습니다.

### 좌석 선택하기

1. 홈 화면에서 출발역과 도착역을 선택한 후 좌석 선택 페이지로 이동합니다.
2. 좌석 배치도에서 원하는 좌석을 탭하여 선택합니다.
3. 이미 선택한 좌석을 다시 탭하면 선택이 해제됩니다.
4. 좌석을 선택한 후 '예약' 버튼을 눌러 예약을 완료합니다.

### 코레일 웹사이트 사용하기

1. 메뉴에서 '코레일 웹사이트' 옵션을 선택합니다.
2. 앱 내에서 공식 코레일 웹사이트가 로드됩니다.
3. 웹사이트는 앱 설정에서 선택한 언어와 동일한 언어로 로드됩니다.
4. 메뉴 옵션을 통해 외부 브라우저에서 웹사이트를 열 수도 있습니다.

### 설정 변경하기

1. 메뉴에서 '설정' 옵션을 선택합니다.
2. 테마 설정에서 라이트 모드 또는 다크 모드를 선택합니다.
3. 언어 설정에서 한국어 또는 영어를 선택합니다.
4. 변경 사항은 즉시 적용되며 앱 전체에 반영됩니다.

## 🛠️ 프로젝트 구조

```
lib/
├── app/                         # 앱 수준 구성
│   ├── app_theme.dart           # 라이트/다크 테마 설정 정의
│   ├── constants/               # 애플리케이션 전체 상수
│   │   ├── app_colors.dart      # 앱 전체에서 사용되는 색상 상수
│   │   ├── app_constants.dart   # 역 이름, URL 등의 일반 상수
│   │   └── app_styles.dart      # 텍스트 스타일 및 치수 상수
│
├── l10n/                        # 다국어 리소스
│   ├── app_en.arb               # 영어 다국어 문자열
│   └── app_ko.arb               # 한국어 다국어 문자열
│
├── ui/                          # UI 화면 및 구성 요소
│   ├── home/                    # 홈 페이지 구현
│   │   └── home_page.dart       # 출발/도착역 선택 메인 화면
│   │
│   ├── korail/                  # 공식 코레일 웹사이트 통합
│   │   └── korail_page.dart     # 코레일 예약 웹사이트를 보여주는 WebView
│   │
│   ├── seat/                    # 좌석 선택 기능
│   │   ├── seat_page.dart       # 기차 좌석 선택 화면
│   │   └── widgets/             # 재사용 가능한 좌석 관련 위젯
│   │       ├── seat_boxes.dart  # 개별 좌석 박스 스타일 및 렌더링
│   │       └── seat_list.dart   # 사용 가능한 모든 좌석의 그리드 레이아웃
│   │
│   ├── settings/                # 앱 설정
│   │   └── settings_page.dart   # 앱 설정 화면
│   │
│   └── station_list/            # 역 선택
│       └── station_list_page.dart 
│
├── util/                        # 유틸리티 함수
│   └── util.dart                
│
├── widgets/                     # 화면 전체에서 사용되는 재사용 가능한 위젯
│   └── app_menu.dart            # 앱 메뉴 구성 요소
│
main.dart                        # 진입점, 테마/언어로 앱 설정
```

## 💡 기술적 특징

### 다국어 지원

- **ARB 파일 기반**: `app_ko.arb`와 `app_en.arb` 파일을 사용하여 한국어와 영어 문자열 정의
- **코드 생성**: Flutter의 코드 생성 기능을 활용한 타입 안전 다국어 지원
- **웹뷰 연동**: 앱 언어 설정에 따라 코레일 웹사이트도 동일 언어로 로드

### 테마 시스템

- **시스템 테마 연동**: 시스템 설정에 따라 자동으로 테마 변경 가능
- **라이트/다크 모드**: 사용자가 선호하는 테마 모드 선택 가능
- **일관된 색상 체계**: `app_colors.dart`에 정의된 일관된 색상 사용

### 코드 구조화

- **기능별 모듈화**: 기능에 따라 코드를 명확하게 구조화
- **상수 활용**: 재사용 가능한 값을 중앙에서 관리
- **문서화**: 모든 클래스와 메서드에 상세한 문서 주석 포함
- **유지보수성**: 확장 및 유지보수가 용이한 코드 구조 설계

## 📊 테스트 및 CI/CD

### 테스트

이 프로젝트는 다음과 같은 테스트를 포함합니다:

- **위젯 테스트**: 출발역/도착역 선택, 좌석 선택, 예약 확인까지의 전체 예매 흐름 테스트와 역 미선택 시 오류 메시지 검증 테스트를 제공합니다.

테스트를 실행하려면:

```
flutter test
```

### CI/CD 파이프라인

GitHub Actions를 사용하여 CI/CD 파이프라인을 구축했습니다:

- **자동 테스트**: 모든 푸시와 풀 리퀘스트에 대해 자동으로 테스트를 실행합니다.
- **코드 분석**: Flutter 분석 도구로 코드 품질을 검사합니다.
- **APK 빌드**: 마스터 브랜치에 대한 푸시 시 릴리스 APK를 자동으로 빌드합니다.
- **아티팩트 업로드**: 빌드된 APK를 GitHub Actions 아티팩트로 저장하여 쉽게 다운로드할 수 있습니다.

## 📄 라이센스

이 프로젝트는 MIT 라이센스 하에 배포됩니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.